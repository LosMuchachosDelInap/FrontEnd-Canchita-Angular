<div class="home-container">
  <header class="hero-section">
    <div class="hero-content">
      <h1>Bienvenido a La Canchita de los Pibes</h1>
      <p class="hero-subtitle">El mejor lugar para jugar fútbol en el barrio</p>
    </div>
  </header>

  <section class="features-section">
    <div class="container">
      <h2>¿Por qué elegir La Canchita?</h2>
      <div class="features-grid">
        <mat-card class="feature-card">
          <mat-icon mat-card-avatar>grass</mat-icon>
          <mat-card-header>
            <mat-card-title>Canchas de Calidad</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>Césped sintético y natural en perfecto estado.</p>
          </mat-card-content>
        </mat-card>

        <mat-card class="feature-card">
          <mat-icon mat-card-avatar>wb_sunny</mat-icon>
          <mat-card-header>
            <mat-card-title>Iluminación LED</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>Juega hasta tarde con nuestra iluminación profesional.</p>
          </mat-card-content>
        </mat-card>

        <mat-card class="feature-card">
          <mat-icon mat-card-avatar>event_available</mat-icon>
          <mat-card-header>
            <mat-card-title>Reservas Online</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>Reserva tu cancha fácil y rápido desde cualquier lugar.</p>
          </mat-card-content>
        </mat-card>

        <mat-card class="feature-card">
          <mat-icon mat-card-avatar>local_parking</mat-icon>
          <mat-card-header>
            <mat-card-title>Comodidades</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p>Estacionamiento, vestuarios y bar disponibles.</p>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </section>

  <!-- Sección de canchas destacadas -->
  <section class="canchas-section">
    <div class="container">
      <h2>Nuestras Canchas</h2>
      
      <!-- Loading State -->
      @if (loading) {
        <div class="loading-container">
          <mat-spinner diameter="50"></mat-spinner>
          <p>Cargando canchas...</p>
        </div>
      }
      
      <!-- Error State -->
      @else if (error && canchas.length === 0) {
        <div class="error-container">
          <mat-icon class="error-icon">error_outline</mat-icon>
          <p class="error-message">{{ error }}</p>
          <button mat-raised-button color="primary" (click)="reintentar()">
            <mat-icon>refresh</mat-icon>
            Reintentar
          </button>
        </div>
      }
      
      <!-- Canchas dinámicas -->
      @else if (canchas.length > 0) {
        <div class="canchas-preview">
          @for (cancha of canchas; track cancha.id) {
            <mat-card class="cancha-preview-card">
              <div class="cancha-image-container">
                <img 
                  mat-card-image 
                  [src]="cancha.imagen" 
                  [alt]="cancha.nombre"
                  loading="lazy"
                  (error)="onImageError($event)"
                >
                <div class="cancha-badge">{{ cancha.tipo }}</div>
              </div>
              
              <mat-card-header>
                <mat-card-title>{{ cancha.nombre }}</mat-card-title>
                <mat-card-subtitle>{{ cancha.descripcion }}</mat-card-subtitle>
              </mat-card-header>
              
              <mat-card-content>
                <!-- Características -->
                @if (cancha.caracteristicas && cancha.caracteristicas.length > 0) {
                  <div class="caracteristicas">
                    @for (caracteristica of cancha.caracteristicas; track caracteristica.nombre) {
                      <mat-chip-option class="caracteristica-chip">
                        <mat-icon>{{ caracteristica.icon }}</mat-icon>
                        {{ caracteristica.nombre }}
                      </mat-chip-option>
                    }
                  </div>
                }
                
                <!-- Precio -->
                <div class="precio-container">
                  <span class="precio">${{ cancha.precio | number:'1.0-0' }}</span>
                  <span class="precio-unidad">/hora</span>
                </div>
              </mat-card-content>
              
              <mat-card-actions>
                <button 
                  mat-raised-button 
                  color="primary" 
                  routerLink="/reservas"
                  [queryParams]="{cancha: cancha.id}"
                >
                  <mat-icon>sports_soccer</mat-icon>
                  Reservar
                </button>
                <button mat-button routerLink="/reservas">
                  Ver Detalles
                </button>
              </mat-card-actions>
            </mat-card>
          }
        </div>
      }
      
      <!-- Fallback: No hay canchas -->
      @else {
        <div class="no-canchas">
          <mat-icon class="no-canchas-icon">sports_soccer</mat-icon>
          <p>No hay canchas disponibles en este momento.</p>
          <button mat-raised-button color="primary" (click)="reintentar()">
            <mat-icon>refresh</mat-icon>
            Actualizar
          </button>
        </div>
      }
      
      <div class="ver-todas-canchas">
        <button mat-raised-button color="accent" routerLink="/reservas">
          <mat-icon>sports_soccer</mat-icon>
          Ver Todas las Canchas ({{ canchas.length }}+)
        </button>
      </div>
    </div>
  </section>
</div>
